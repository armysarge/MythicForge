const fs=require("fs").promises,path=require("path"),SETTINGS_FILE=path.join(__dirname,"settings.json");class SettingsManager{constructor(){this.settings={},this.init()}async init(){try{await fs.access(SETTINGS_FILE);const t=await fs.readFile(SETTINGS_FILE,"utf8");this.settings=JSON.parse(t)}catch(t){this.settings={theme:"light",language:"en"},await this.saveSettings()}}async saveSettings(){const t=path.dirname(SETTINGS_FILE);await fs.mkdir(t,{recursive:!0}),await fs.writeFile(SETTINGS_FILE,JSON.stringify(this.settings,null,2))}async updateSettings(t){return this.settings={...this.settings,...t},await this.saveSettings(),this.settings}getSettings(){return this.settings}}module.exports=new SettingsManager;